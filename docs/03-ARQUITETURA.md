# ğŸ—ï¸ Arquitetura TÃ©cnica - Educador Pro

> **DocumentaÃ§Ã£o tÃ©cnica da arquitetura do sistema**

---

## ğŸ“‹ VisÃ£o Geral da Arquitetura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ARQUITETURA GERAL                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                           CLIENTES                                   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚   ğŸ“± PWA     â”‚   ğŸ’» Web     â”‚   ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ FamÃ­lia   â”‚   ğŸ“Š Admin        â”‚   â”‚
â”‚  â”‚   Mobile     â”‚   Desktop    â”‚   Portal     â”‚   Dashboard         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚              â”‚              â”‚                  â”‚               â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                   â”‚                                       â”‚
â”‚                                   â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         NEXT.JS 16 (FRONTEND)                        â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  App Router â”‚ Server Components â”‚ API Routes â”‚ Middleware           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                   â”‚                                       â”‚
â”‚                                   â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                           SUPABASE                                   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚   ğŸ” Auth  â”‚  ğŸ—„ï¸ Database â”‚  ğŸ“ Storage  â”‚  âš¡ Realtime â”‚  ğŸ”§ Edge   â”‚   â”‚
â”‚  â”‚   (Users)  â”‚ (PostgreSQL)â”‚  (Files)    â”‚  (WS)       â”‚ (Functions)â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                   â”‚                                       â”‚
â”‚                                   â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         INTEGRAÃ‡Ã•ES                                  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚       ğŸ”„ n8n      â”‚    ğŸ¤– Gemini     â”‚       ğŸ“§ Email               â”‚   â”‚
â”‚  â”‚   (Workflows)    â”‚   (IA/Texto)     â”‚    (Notifications)          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Estrutura de Pastas (Proposta v2)

```
parecer-facil/
â”œâ”€â”€ ğŸ“ docs/                        # DocumentaÃ§Ã£o
â”‚   â”œâ”€â”€ 01-VISAO-PRODUTO.md
â”‚   â”œâ”€â”€ 02-PLANO-DESENVOLVIMENTO.md
â”‚   â”œâ”€â”€ 03-ARQUITETURA.md
â”‚   â”œâ”€â”€ 04-BANCO-DADOS.md
â”‚   â””â”€â”€ 05-API.md
â”‚
â”œâ”€â”€ ğŸ“ public/                      # Assets estÃ¡ticos
â”‚   â”œâ”€â”€ logo.png
â”‚   â”œâ”€â”€ icons/
â”‚   â””â”€â”€ manifest.json              # PWA manifest
â”‚
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (auth)/                # Grupo: pÃ¡ginas de auth
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”œâ”€â”€ cadastro/
â”‚   â”‚   â”‚   â””â”€â”€ esqueci-senha/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ (professor)/           # Grupo: Ã¡rea do professor
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ turmas/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx       # Lista de turmas
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx   # Detalhes da turma
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ timeline/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ alunos/
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ alunos/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx   # Perfil do aluno
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ galeria/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ marcos/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ pareceres/
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ planejamento/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx       # Plano semanal
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ atividades/    # Banco de atividades
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ bncc/          # ReferÃªncia BNCC
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ pareceres/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx       # Lista de pareceres
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ novo/          # Novo parecer
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/          # Detalhes/ediÃ§Ã£o
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ portfolios/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx       # Lista de portfÃ³lios
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx   # Editor
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ preview/
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ perfil/
â”‚   â”‚   â”‚   â””â”€â”€ configuracoes/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ (familia)/             # Grupo: portal famÃ­lia
â”‚   â”‚   â”‚   â”œâ”€â”€ familia/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx       # Home famÃ­lia
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [aluno]/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx   # Perfil do filho
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ fotos/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ agenda/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ mensagens/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ api/                   # API Routes
â”‚   â”‚   â”‚   â”œâ”€â”€ webhook/
â”‚   â”‚   â”‚   â”œâ”€â”€ pareceres/
â”‚   â”‚   â”‚   â”œâ”€â”€ portfolios/
â”‚   â”‚   â”‚   â””â”€â”€ ia/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ share/                 # Links pÃºblicos
â”‚   â”‚   â”‚   â””â”€â”€ [token]/           # Portfolio compartilhado
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ globals.css
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â””â”€â”€ page.tsx               # Landing page
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ components/
â”‚   â”‚   â”œâ”€â”€ ui/                    # Componentes base (shadcn)
â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layout/                # Componentes de layout
â”‚   â”‚   â”‚   â”œâ”€â”€ sidebar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ header.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ mobile-nav.tsx
â”‚   â”‚   â”‚   â””â”€â”€ page-container.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ captura/               # MÃ³dulo de captura
â”‚   â”‚   â”‚   â”œâ”€â”€ camera-capture.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ audio-recorder.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ voice-description.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ student-selector.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ context-tags.tsx
â”‚   â”‚   â”‚   â””â”€â”€ quick-actions.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ timeline/              # MÃ³dulo timeline
â”‚   â”‚   â”‚   â”œâ”€â”€ timeline-view.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ timeline-item.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ timeline-filters.tsx
â”‚   â”‚   â”‚   â””â”€â”€ timeline-search.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ aluno/                 # MÃ³dulo aluno
â”‚   â”‚   â”‚   â”œâ”€â”€ student-profile.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ development-chart.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ milestones-list.tsx
â”‚   â”‚   â”‚   â””â”€â”€ student-gallery.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ planejamento/          # MÃ³dulo planejamento
â”‚   â”‚   â”‚   â”œâ”€â”€ weekly-calendar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ activity-card.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ bncc-selector.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ai-suggestions.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ parecer/               # MÃ³dulo pareceres
â”‚   â”‚   â”‚   â”œâ”€â”€ parecer-generator.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ parecer-editor.tsx
â”‚   â”‚   â”‚   â””â”€â”€ parecer-export.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ portfolio/             # MÃ³dulo portfÃ³lio
â”‚   â”‚   â”‚   â”œâ”€â”€ portfolio-builder.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ section-editor.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ template-gallery.tsx
â”‚   â”‚   â”‚   â””â”€â”€ pdf-exporter.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ familia/               # MÃ³dulo famÃ­lia
â”‚   â”‚   â”‚   â”œâ”€â”€ activity-feed.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ message-thread.tsx
â”‚   â”‚   â”‚   â””â”€â”€ event-calendar.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ shared/                # Componentes compartilhados
â”‚   â”‚       â”œâ”€â”€ loading-spinner.tsx
â”‚   â”‚       â”œâ”€â”€ empty-state.tsx
â”‚   â”‚       â”œâ”€â”€ error-boundary.tsx
â”‚   â”‚       â””â”€â”€ confirmation-dialog.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ lib/
â”‚   â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts          # Cliente browser
â”‚   â”‚   â”‚   â”œâ”€â”€ server.ts          # Cliente server
â”‚   â”‚   â”‚   â””â”€â”€ admin.ts           # Cliente admin
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ utils.ts               # UtilitÃ¡rios gerais
â”‚   â”‚   â”œâ”€â”€ constants.ts           # Constantes
â”‚   â”‚   â””â”€â”€ validations.ts         # ValidaÃ§Ãµes Zod
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ hooks/                  # Custom hooks
â”‚   â”‚   â”œâ”€â”€ use-auth.ts
â”‚   â”‚   â”œâ”€â”€ use-turma.ts
â”‚   â”‚   â”œâ”€â”€ use-alunos.ts
â”‚   â”‚   â”œâ”€â”€ use-registros.ts
â”‚   â”‚   â”œâ”€â”€ use-realtime.ts
â”‚   â”‚   â””â”€â”€ use-media.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ contexts/               # React Contexts
â”‚   â”‚   â”œâ”€â”€ auth-context.tsx
â”‚   â”‚   â””â”€â”€ turma-context.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ services/               # ServiÃ§os/APIs
â”‚   â”‚   â”œâ”€â”€ parecer-service.ts
â”‚   â”‚   â”œâ”€â”€ portfolio-service.ts
â”‚   â”‚   â”œâ”€â”€ ia-service.ts
â”‚   â”‚   â””â”€â”€ storage-service.ts
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ types/                  # TypeScript types
â”‚       â”œâ”€â”€ database.ts            # Tipos do Supabase
â”‚       â”œâ”€â”€ api.ts                 # Tipos de API
â”‚       â””â”€â”€ ui.ts                  # Tipos de UI
â”‚
â”œâ”€â”€ ğŸ“ supabase/
â”‚   â”œâ”€â”€ migrations/                # MigraÃ§Ãµes SQL
â”‚   â”‚   â”œâ”€â”€ 001_initial_schema.sql
â”‚   â”‚   â”œâ”€â”€ 002_add_contextos.sql
â”‚   â”‚   â”œâ”€â”€ 003_add_marcos.sql
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ functions/                 # Edge Functions
â”‚   â””â”€â”€ seed.sql                   # Dados iniciais
â”‚
â”œâ”€â”€ ğŸ“ n8n/
â”‚   â””â”€â”€ workflows/                 # Workflows exportados
â”‚       â”œâ”€â”€ parecer-generator.json
â”‚       â””â”€â”€ portfolio-builder.json
â”‚
â”œâ”€â”€ .env.local                     # VariÃ¡veis locais
â”œâ”€â”€ .env.example                   # Exemplo de env
â”œâ”€â”€ next.config.ts
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ tsconfig.json
â””â”€â”€ package.json
```

---

## ğŸ—„ï¸ Modelo de Dados

### Diagrama ER Principal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     USERS       â”‚     â”‚    PROFESSORES  â”‚     â”‚     TURMAS      â”‚
â”‚  (Supabase)     â”‚â”€â”€â”€â”€â–¶â”‚                 â”‚â”€â”€â”€â”€â–¶â”‚                 â”‚
â”‚                 â”‚     â”‚  uid (FK)       â”‚     â”‚  user_id (FK)   â”‚
â”‚  id             â”‚     â”‚  nome           â”‚     â”‚  nome           â”‚
â”‚  email          â”‚     â”‚  email          â”‚     â”‚  ano_letivo     â”‚
â”‚  ...            â”‚     â”‚  estilo_escrita â”‚     â”‚  escola         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  paginas_esp.   â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                                                         â”‚
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    CONTEXTOS    â”‚     â”‚     ALUNOS      â”‚     â”‚    REGISTROS    â”‚
â”‚                 â”‚     â”‚                 â”‚     â”‚                 â”‚
â”‚  id             â”‚     â”‚  turma_id (FK)  â”‚â—€â”€â”€â”€â–¶â”‚  tipo           â”‚
â”‚  nome           â”‚     â”‚  nome           â”‚     â”‚  url_arquivo    â”‚
â”‚  icone          â”‚     â”‚  data_nasc.     â”‚     â”‚  descricao      â”‚
â”‚  cor            â”‚     â”‚  observacoes    â”‚     â”‚  contexto_id    â”‚
â”‚  user_id        â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  transcricao    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚              â”‚  compartilhar   â”‚
         â”‚                       â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ REGISTROS_ALUNOSâ”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚   (N:N)         â”‚
                        â”‚  registro_id    â”‚
                        â”‚  aluno_id       â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     MARCOS      â”‚     â”‚   DESENVOLV.    â”‚     â”‚    PARECERES    â”‚
â”‚                 â”‚     â”‚   TRACKING      â”‚     â”‚                 â”‚
â”‚  aluno_id (FK)  â”‚     â”‚                 â”‚     â”‚  uid_professor  â”‚
â”‚  titulo         â”‚     â”‚  aluno_id (FK)  â”‚     â”‚  aluno_nome     â”‚
â”‚  descricao      â”‚     â”‚  area           â”‚     â”‚  aluno_idade    â”‚
â”‚  area_desenv.   â”‚     â”‚  nivel          â”‚     â”‚  audio_url      â”‚
â”‚  data_marco     â”‚     â”‚  periodo        â”‚     â”‚  resultado_textoâ”‚
â”‚  evidencias_ids â”‚     â”‚  observacoes    â”‚     â”‚  status         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Diagrama ER Planejamento

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   BNCC_CAMPOS   â”‚     â”‚   ATIVIDADES    â”‚     â”‚  PLANEJAMENTO   â”‚
â”‚                 â”‚     â”‚                 â”‚     â”‚    SEMANAL      â”‚
â”‚  codigo (PK)    â”‚â—€â”€â”€â”€â–¶â”‚  user_id        â”‚     â”‚                 â”‚
â”‚  campo          â”‚     â”‚  titulo         â”‚     â”‚  user_id        â”‚
â”‚  faixa_etaria   â”‚     â”‚  descricao      â”‚     â”‚  turma_id       â”‚
â”‚  objetivo       â”‚     â”‚  duracao_min    â”‚     â”‚  semana_inicio  â”‚
â”‚  palavras_chave â”‚     â”‚  materiais      â”‚     â”‚  status         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  campos_bncc[]  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚  tipo           â”‚              â”‚
                        â”‚  is_template    â”‚              â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                                 â”‚                       â”‚
                                 â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â–¼              â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   ATIVIDADES_PLANEJADAS     â”‚
                        â”‚                             â”‚
                        â”‚  planejamento_id (FK)       â”‚
                        â”‚  atividade_id (FK)          â”‚
                        â”‚  dia_semana                 â”‚
                        â”‚  horario                    â”‚
                        â”‚  realizada                  â”‚
                        â”‚  registro_id (FK)           â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Diagrama ER PortfÃ³lio e FamÃ­lia

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PORTFOLIOS    â”‚     â”‚ PORTFOLIO_SECOESâ”‚     â”‚ FAMILIA_USUARIOSâ”‚
â”‚                 â”‚     â”‚                 â”‚     â”‚                 â”‚
â”‚  aluno_id (FK)  â”‚â”€â”€â”€â”€â–¶â”‚  portfolio_id   â”‚     â”‚  email          â”‚
â”‚  titulo         â”‚     â”‚  tipo           â”‚     â”‚  nome           â”‚
â”‚  periodo        â”‚     â”‚  titulo         â”‚     â”‚  alunos_ids[]   â”‚
â”‚  template       â”‚     â”‚  conteudo(JSON) â”‚     â”‚                 â”‚
â”‚  secoes(JSON)   â”‚     â”‚  ordem          â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  share_token    â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚  share_enabled  â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
                                                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚   COMUNICADOS   â”‚     â”‚   MENSAGENS     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                 â”‚     â”‚                 â”‚
â”‚  turma_id (FK)  â”‚     â”‚  aluno_id (FK)  â”‚
â”‚  titulo         â”‚     â”‚  remetente_type â”‚
â”‚  conteudo       â”‚     â”‚  remetente_id   â”‚
â”‚  tipo           â”‚     â”‚  conteudo       â”‚
â”‚  data_evento    â”‚     â”‚  lida           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” PolÃ­ticas de SeguranÃ§a (RLS)

### PrincÃ­pios
1. **Isolamento por usuÃ¡rio**: Professor sÃ³ vÃª seus dados
2. **Isolamento por turma**: Dados vinculados Ã  turma do professor
3. **Acesso famÃ­lia**: FamÃ­lia sÃ³ vÃª dados do filho
4. **Compartilhamento explÃ­cito**: Registros precisam de flag para famÃ­lia ver

### Exemplos de PolÃ­ticas

```sql
-- Turmas: Professor sÃ³ vÃª suas turmas
CREATE POLICY "turmas_professor_policy" ON turmas
    FOR ALL USING (user_id = auth.uid());

-- Alunos: Ver alunos das prÃ³prias turmas
CREATE POLICY "alunos_professor_policy" ON alunos
    FOR ALL USING (
        turma_id IN (
            SELECT id FROM turmas WHERE user_id = auth.uid()
        )
    );

-- Registros: Ver registros de alunos das prÃ³prias turmas
CREATE POLICY "registros_professor_policy" ON registros
    FOR ALL USING (
        id IN (
            SELECT registro_id FROM registros_alunos ra
            JOIN alunos a ON ra.aluno_id = a.id
            JOIN turmas t ON a.turma_id = t.id
            WHERE t.user_id = auth.uid()
        )
    );

-- Registros: FamÃ­lia vÃª apenas compartilhados
CREATE POLICY "registros_familia_policy" ON registros
    FOR SELECT USING (
        compartilhar_familia = true
        AND id IN (
            SELECT registro_id FROM registros_alunos ra
            WHERE ra.aluno_id = ANY(
                SELECT unnest(alunos_ids) FROM familia_usuarios
                WHERE id = auth.uid()
            )
        )
    );
```

---

## âš¡ Fluxos de Dados

### Fluxo: Criar Registro RÃ¡pido

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Professor  â”‚     â”‚   Frontend  â”‚     â”‚   Supabase  â”‚     â”‚    n8n      â”‚
â”‚  (Mobile)   â”‚     â”‚   (Next.js) â”‚     â”‚   (Backend) â”‚     â”‚  (Workflow) â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚ 1. Tira foto      â”‚                   â”‚                   â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚                   â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚ 2. Seleciona      â”‚                   â”‚                   â”‚
       â”‚    alunos         â”‚                   â”‚                   â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚                   â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚ 3. Grava descriÃ§Ã£oâ”‚                   â”‚                   â”‚
       â”‚    por voz        â”‚                   â”‚                   â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚                   â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚ 4. Clica salvar   â”‚                   â”‚                   â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚                   â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚                   â”‚ 5. Upload imagem  â”‚                   â”‚
       â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚                   â”‚ 6. Insert registroâ”‚                   â”‚
       â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚                   â”‚ 7. Insert vinculosâ”‚                   â”‚
       â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚                   â”‚                   â”‚ 8. Trigger n8n    â”‚
       â”‚                   â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚                   â”‚                   â”‚ 9. Transcreve     â”‚
       â”‚                   â”‚                   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                   â”‚                   â”‚    Ã¡udio (Whisper)â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚                   â”‚ 10. Realtime      â”‚                   â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚
       â”‚    (atualizaÃ§Ã£o)  â”‚                   â”‚                   â”‚
       â”‚                   â”‚                   â”‚                   â”‚
```

### Fluxo: Gerar Parecer com IA

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Professor  â”‚     â”‚   Frontend  â”‚     â”‚   Supabase  â”‚     â”‚ n8n + Geminiâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚ 1. Seleciona      â”‚                   â”‚                   â”‚
       â”‚    aluno + perÃ­odoâ”‚                   â”‚                   â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚                   â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚                   â”‚ 2. Busca registrosâ”‚                   â”‚
       â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚
       â”‚                   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚                   â”‚ 3. Busca marcos   â”‚                   â”‚
       â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚
       â”‚                   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚                   â”‚ 4. Busca estilo   â”‚                   â”‚
       â”‚                   â”‚    do professor   â”‚                   â”‚
       â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚
       â”‚                   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚                   â”‚ 5. Cria parecer   â”‚                   â”‚
       â”‚                   â”‚    status=process.â”‚                   â”‚
       â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚                   â”‚ 6. Chama webhook  â”‚                   â”‚
       â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚                   â”‚                   â”‚ 7. Gemini processaâ”‚
       â”‚                   â”‚                   â”‚   (prompt + dados)â”‚
       â”‚                   â”‚                   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚                   â”‚                   â”‚ 8. Update parecer â”‚
       â”‚                   â”‚                   â”‚   status=concluÃ­doâ”‚
       â”‚                   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚ 9. Realtime       â”‚                   â”‚                   â”‚
       â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚                   â”‚
       â”‚ (parecer pronto)  â”‚                   â”‚                   â”‚
```

---

## ğŸ”§ ConfiguraÃ§Ã£o de Ambiente

### VariÃ¡veis de Ambiente

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=xxx
SUPABASE_SERVICE_ROLE_KEY=xxx

# n8n
NEXT_PUBLIC_N8N_WEBHOOK_URL=https://xxx.n8n.cloud/webhook/xxx

# IA
GOOGLE_GEMINI_API_KEY=xxx
OPENAI_API_KEY=xxx  # Para Whisper

# App
NEXT_PUBLIC_APP_URL=https://educador.pro
NEXT_PUBLIC_APP_NAME=Educador Pro

# Feature Flags
NEXT_PUBLIC_ENABLE_FAMILIA=false
NEXT_PUBLIC_ENABLE_PORTFOLIO=false
```

---

## ğŸ“± PWA Configuration

### manifest.json

```json
{
  "name": "Educador Pro",
  "short_name": "Educador",
  "description": "Assistente completo do professor",
  "start_url": "/dashboard",
  "display": "standalone",
  "background_color": "#0F172A",
  "theme_color": "#6366F1",
  "icons": [
    {
      "src": "/icons/icon-192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "/icons/icon-512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ],
  "shortcuts": [
    {
      "name": "Nova Foto",
      "url": "/captura/foto",
      "icons": [{ "src": "/icons/camera.png", "sizes": "96x96" }]
    },
    {
      "name": "Nota RÃ¡pida",
      "url": "/captura/nota",
      "icons": [{ "src": "/icons/note.png", "sizes": "96x96" }]
    }
  ]
}
```

---

## ğŸ§ª Testes

### EstratÃ©gia de Testes

| Tipo | Ferramenta | Cobertura |
|------|------------|-----------|
| Unit | Vitest | UtilitÃ¡rios, Hooks |
| Component | Testing Library | Componentes UI |
| E2E | Playwright | Fluxos crÃ­ticos |
| Visual | Chromatic | Design system |

### CenÃ¡rios CrÃ­ticos para E2E

1. **Login/Logout** â†’ AutenticaÃ§Ã£o funciona
2. **Criar Turma** â†’ CRUD de turmas
3. **Adicionar Aluno** â†’ CRUD de alunos
4. **Criar Registro** â†’ Upload + Save
5. **Gerar Parecer** â†’ Fluxo completo com IA
6. **Exportar Word** â†’ Download funciona

---

*Documento atualizado em: Dezembro 2024*
*VersÃ£o: 1.0*
